{
  "anonymous": false,
  "attributes": [
    {
      "name": "Image",
      "values": [
        "employee-onboarding.gif"
      ]
    }
  ],
  "bridgedResources": [
    {
      "model": "Ports and Protocols",
      "name": "Ports and Protocols Entries",
      "parameters": [
        {
          "mapping": "${values('Id')}",
          "name": "Parent Id"
        },
        {
          "mapping": "${kapp('slug')}",
          "name": "Kapp Slug"
        }
      ],
      "qualification": "All by Parent Id",
      "status": "Active"
    }
  ],
  "categorizations": [
    {
      "category": {
        "name": "IT Services",
        "slug": "it-services"
      }
    },
    {
      "category": {
        "name": "Software Services",
        "slug": "software-services"
      }
    }
  ],
  "createdAt": "2015-10-16T14:33:05.512Z",
  "createdBy": "jeff.lockemy@kineticdata.com",
  "description": "Submit this request to initiate a request for authorization of network port and protocol exceptions.",
  "name": "Ports Protocols and Services",
  "notes": "",
  "pages": [
    {
      "advanceCondition": null,
      "displayCondition": null,
      "displayPage": "form.jsp",
      "elements": [
        {
          "type": "section",
          "name": "Request Details",
          "title": "Please Answer the Following Questions",
          "visible": true,
          "renderAttributes": {

          },
          "elements": [
            {
              "type": "section",
              "name": "Col 1",
              "title": null,
              "visible": true,
              "renderAttributes": {
                "class": "col-md-6"
              },
              "elements": [
                {
                  "type": "field",
                  "name": "IAP or ASR",
                  "label": "IAP or ASR",
                  "key": "f18",
                  "defaultValue": null,
                  "defaultResourceName": null,
                  "visible": true,
                  "enabled": true,
                  "required": true,
                  "requiredMessage": null,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {
                    "title": "IAP – Handles commercial traffic going out to the Internet (non-DoD) ASR - Handles traffic between the local LAN and the NIPRNET – internal DoD"
                  },
                  "dataType": "string",
                  "renderType": "dropdown",
                  "choicesResourceName": null,
                  "choices": [
                    {
                      "label": "IAP",
                      "value": "IAP"
                    },
                    {
                      "label": "ASR",
                      "value": "ASR"
                    }
                  ],
                  "choicesRunIf": null,
                  "omitWhenHidden": null
                },
                {
                  "type": "field",
                  "name": "AIS Name",
                  "label": "AIS Name",
                  "key": "f47",
                  "defaultValue": null,
                  "defaultResourceName": null,
                  "visible": true,
                  "enabled": true,
                  "required": false,
                  "requiredMessage": null,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {
                    "title": "Enter the name of the server you want to access, the workstation that needs rights, etc. or the application that you need in this field."
                  },
                  "dataType": "string",
                  "renderType": "text",
                  "rows": 1,
                  "omitWhenHidden": null
                },
                {
                  "type": "field",
                  "name": "AIS Type",
                  "label": "AIS Type",
                  "key": "f16",
                  "defaultValue": null,
                  "defaultResourceName": null,
                  "visible": true,
                  "enabled": true,
                  "required": true,
                  "requiredMessage": null,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {
                    "title": "Experimental – AIS is still under observation and not ready for developmentIn Use – AIS that is currently in use such as Exchange or Windows Server 2008Under Development - AIS that is in use but still undergoing observation, such as beta softwareLegacy – AIS that is no longer supported by DoD or the vendor, such as Windows 95, 98, ME, NT 4.0, XP"
                  },
                  "dataType": "string",
                  "renderType": "dropdown",
                  "choicesResourceName": null,
                  "choices": [
                    {
                      "label": "Experimental",
                      "value": "Experimental"
                    },
                    {
                      "label": "In Use",
                      "value": "In Use"
                    },
                    {
                      "label": "Legacy",
                      "value": "Legacy"
                    },
                    {
                      "label": "Under Development",
                      "value": "Under Development"
                    },
                    {
                      "label": "New",
                      "value": "New"
                    }
                  ],
                  "choicesRunIf": null,
                  "omitWhenHidden": null
                },
                {
                  "type": "field",
                  "name": "Version",
                  "label": "Version",
                  "key": "f42",
                  "defaultValue": null,
                  "defaultResourceName": null,
                  "visible": true,
                  "enabled": true,
                  "required": true,
                  "requiredMessage": null,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {
                    "title": "Enter the version of the AIS Entered in AIS Name"
                  },
                  "dataType": "string",
                  "renderType": "text",
                  "rows": 1,
                  "omitWhenHidden": null
                },
                {
                  "type": "field",
                  "name": "Aias",
                  "label": "Aias",
                  "key": "f49",
                  "defaultValue": null,
                  "defaultResourceName": null,
                  "visible": true,
                  "enabled": true,
                  "required": false,
                  "requiredMessage": null,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {

                  },
                  "dataType": "string",
                  "renderType": "text",
                  "rows": 1,
                  "omitWhenHidden": null
                },
                {
                  "type": "field",
                  "name": "Point of Contact",
                  "label": "Point of Contact",
                  "key": "f54",
                  "defaultValue": "${identity('username')}",
                  "defaultResourceName": null,
                  "visible": true,
                  "enabled": true,
                  "required": false,
                  "requiredMessage": null,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {

                  },
                  "dataType": "string",
                  "renderType": "text",
                  "rows": 1,
                  "omitWhenHidden": null
                }
              ],
              "renderType": null,
              "omitWhenHidden": null
            },
            {
              "type": "section",
              "name": "Col 2",
              "title": null,
              "visible": true,
              "renderAttributes": {
                "class": "col-md-6"
              },
              "elements": [
                {
                  "type": "field",
                  "name": "Joint OPS",
                  "label": "Joint OPS",
                  "key": "f44",
                  "defaultValue": null,
                  "defaultResourceName": null,
                  "visible": true,
                  "enabled": true,
                  "required": true,
                  "requiredMessage": null,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {
                    "title": "YES – The AIS is used by another DoD service, i.e. Air Force, Navy, etc.  |   NO –   The AIS is not used by another service."
                  },
                  "dataType": "string",
                  "renderType": "dropdown",
                  "choicesResourceName": null,
                  "choices": [
                    {
                      "label": "Yes",
                      "value": "Yes"
                    },
                    {
                      "label": "No",
                      "value": "No"
                    }
                  ],
                  "choicesRunIf": null,
                  "omitWhenHidden": null
                },
                {
                  "type": "field",
                  "name": "DIACAP Registration",
                  "label": "DIACAP Registration",
                  "key": "f48",
                  "defaultValue": null,
                  "defaultResourceName": null,
                  "visible": true,
                  "enabled": true,
                  "required": true,
                  "requiredMessage": null,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {
                    "title": "YES – The AIS has been certified, accredited and registered. | NO –   The AIS has NOT been certified, accredited and registered."
                  },
                  "dataType": "string",
                  "renderType": "dropdown",
                  "choicesResourceName": null,
                  "choices": [
                    {
                      "label": "Yes",
                      "value": "Yes"
                    },
                    {
                      "label": "No",
                      "value": "No"
                    }
                  ],
                  "choicesRunIf": null,
                  "omitWhenHidden": null
                },
                {
                  "type": "field",
                  "name": "Classification Level",
                  "label": "Classification Level",
                  "key": "f43",
                  "defaultValue": null,
                  "defaultResourceName": null,
                  "visible": true,
                  "enabled": true,
                  "required": true,
                  "requiredMessage": null,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {

                  },
                  "dataType": "string",
                  "renderType": "dropdown",
                  "choicesResourceName": null,
                  "choices": [
                    {
                      "label": "SBU",
                      "value": "SBU"
                    },
                    {
                      "label": "FOUO",
                      "value": "FOUO"
                    },
                    {
                      "label": "Confidential",
                      "value": "Confidential"
                    },
                    {
                      "label": "Secret",
                      "value": "Secret"
                    },
                    {
                      "label": "Top Secret",
                      "value": "Top Secret"
                    }
                  ],
                  "choicesRunIf": null,
                  "omitWhenHidden": null
                },
                {
                  "type": "field",
                  "name": "DAA Approval",
                  "label": "DAA Approval",
                  "key": "f50",
                  "defaultValue": null,
                  "defaultResourceName": null,
                  "visible": true,
                  "enabled": true,
                  "required": true,
                  "requiredMessage": null,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {

                  },
                  "dataType": "string",
                  "renderType": "dropdown",
                  "choicesResourceName": null,
                  "choices": [
                    {
                      "label": "Yes",
                      "value": "Yes"
                    },
                    {
                      "label": "No",
                      "value": "No"
                    }
                  ],
                  "choicesRunIf": null,
                  "omitWhenHidden": null
                },
                {
                  "type": "field",
                  "name": "Name of Designated Approving Authority DAA",
                  "label": "Name of Designated Approving Authority (DAA)",
                  "key": "f45",
                  "defaultValue": null,
                  "defaultResourceName": null,
                  "visible": true,
                  "enabled": true,
                  "required": false,
                  "requiredMessage": null,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {

                  },
                  "dataType": "string",
                  "renderType": "text",
                  "rows": 1,
                  "omitWhenHidden": null
                },
                {
                  "type": "field",
                  "name": "Service Provider Been Informed of the Requests",
                  "label": "Service Provider Been Informed of the Requests",
                  "key": "f46",
                  "defaultValue": null,
                  "defaultResourceName": null,
                  "visible": true,
                  "enabled": true,
                  "required": true,
                  "requiredMessage": null,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {

                  },
                  "dataType": "string",
                  "renderType": "dropdown",
                  "choicesResourceName": null,
                  "choices": [
                    {
                      "label": "Yes",
                      "value": "Yes"
                    },
                    {
                      "label": "No",
                      "value": "No"
                    }
                  ],
                  "choicesRunIf": null,
                  "omitWhenHidden": null
                }
              ],
              "renderType": null,
              "omitWhenHidden": null
            }
          ],
          "renderType": null,
          "omitWhenHidden": null
        },
        {
          "type": "field",
          "name": "Justification",
          "label": "Justification",
          "key": "f31",
          "defaultValue": null,
          "defaultResourceName": null,
          "visible": true,
          "enabled": true,
          "required": true,
          "requiredMessage": null,
          "pattern": null,
          "constraints": [

          ],
          "events": [

          ],
          "renderAttributes": {

          },
          "dataType": "string",
          "renderType": "text",
          "rows": 3,
          "omitWhenHidden": null
        },
        {
          "type": "field",
          "name": "Operational Impact",
          "label": "Operational Impact",
          "key": "f51",
          "defaultValue": null,
          "defaultResourceName": null,
          "visible": true,
          "enabled": true,
          "required": true,
          "requiredMessage": null,
          "pattern": null,
          "constraints": [

          ],
          "events": [

          ],
          "renderAttributes": {

          },
          "dataType": "string",
          "renderType": "text",
          "rows": 3,
          "omitWhenHidden": null
        },
        {
          "type": "field",
          "name": "Mission Impact",
          "label": "Mission Impact",
          "key": "f52",
          "defaultValue": null,
          "defaultResourceName": null,
          "visible": true,
          "enabled": true,
          "required": true,
          "requiredMessage": null,
          "pattern": null,
          "constraints": [

          ],
          "events": [

          ],
          "renderAttributes": {

          },
          "dataType": "string",
          "renderType": "text",
          "rows": 3,
          "omitWhenHidden": null
        },
        {
          "type": "field",
          "name": "Your Strategy for Protecting the GIG from the Threat Posed by This Request",
          "label": "Your Strategy for Protecting the GIG from the Threat Posed by This Request",
          "key": "f53",
          "defaultValue": null,
          "defaultResourceName": null,
          "visible": true,
          "enabled": true,
          "required": true,
          "requiredMessage": null,
          "pattern": null,
          "constraints": [

          ],
          "events": [

          ],
          "renderAttributes": {

          },
          "dataType": "string",
          "renderType": "text",
          "rows": 3,
          "omitWhenHidden": null
        },
        {
          "type": "section",
          "name": "Buttons",
          "title": null,
          "visible": true,
          "renderAttributes": {
            "class": "box-footer",
            "style": "clear:both;"
          },
          "elements": [
            {
              "type": "button",
              "label": "Save",
              "name": "Save Draft Button",
              "visible": true,
              "enabled": true,
              "renderType": "save",
              "renderAttributes": {

              }
            },
            {
              "type": "button",
              "label": "Continue",
              "name": "Continue",
              "visible": true,
              "enabled": true,
              "renderType": "submit-page",
              "renderAttributes": {
                "class": "btn btn-primary pull-right"
              }
            }
          ],
          "renderType": null,
          "omitWhenHidden": null
        }
      ],
      "events": [

      ],
      "name": "Application Details",
      "renderType": "submittable",
      "type": "page"
    },
    {
      "advanceCondition": null,
      "displayCondition": null,
      "displayPage": null,
      "elements": [
        {
          "type": "content",
          "renderType": "html",
          "name": "Table Javascript",
          "text": "<script>\n$(document).ready(function(){\n  initializeTable();\n  var oTable;\n  \n  $('.btn-add-pps').on('click',function() {\n    loadEventForm();\n  })\n\n})\n\nfunction initializeTable() {\n  K('bridgedResource[Ports and Protocols Entries]').load({\n    attributes: ['Application Name'],\n    values: {'Parent Id' : K('field[Id]').value(),\n             'Kapp Slug' : bundle.kappSlug()\n            },\n    success: function(bridgedData) {\n      oTable = $('#pps-table').DataTable( {\n        dom: 'T',\n        data: bridgedData,\n        columns: [\n          { title: 'Application Name',\n            data: 'Application Name' },\n          { title: 'Child Id',\n          data: 'Id' },\n          { data: null,\n            sortable: false,\n            width: \"80px\",\n            defaultContent: \"<button class='btn-sm btn-primary' value='Edit'><i class='fa fa-pencil-square-o'></i></button> <button class='btn-sm btn-primary' value='Delete'><i class='fa fa-trash'></i></button>\"\n          }\n        ],\n        language: {\n            zeroRecords: \"Click the Create Application Assessment Button to add an Application\"\n        }\n      });\n      \n      //Attach listeners here for when a row is clicked:\n      $('table').on(\"click\",\"tr td button\",function() {\n        var row = $(this).closest('tr'),\n            index = oTable.row(row).index(),\n            rowData = oTable.row(index).data();\n        \n        if ($(this).val() == \"Edit\") {\n          $('#pps-modal .modal-body').empty().html(\"<i class='fa fa-cog fa-spin'></i>\");\n          loadEventForm(rowData[\"Child Id\"], row);\n        }\n        \n        if ($(this).val() == \"Delete\") {\n          var myConfirmation = confirm('Are you sure you want to delete this event type?')\n          if (myConfirmation) {\n            $.ajax({\n              method: 'DELETE',\n              url: bundle.spaceLocation() + '/app/api/v1/submissions/' + rowData['Child Id'],\n              dataType: \"json\",\n              data:   null,\n              contentType: \"application/json\",\n              \n              // If form creation was successful run this code\n              success: function(response, textStatus, jqXHR){\n                oTable.row(row).remove().draw();\n              },\n              // If there was an error, show the error\n              error: function(jqXHR, textStatus, errorThrown){\n                //$('#newObject .modal-body #message').html('There was an error creating the Object ' + data.errorThrown);\n                console.log('There was an error removing the object: ' + errorThrown);\n              }\n            });\n          }\n        }\n      })\n    }\n  });\n}\n\nfunction loadEventForm(id,row) {\n  //Ensure modal is empty\n  $('#pps-modal .modal-body').html(\"<i class='fa fa-cog fa-spin'></i>\");\n  \n  //Determing if we are opening an existing or new application configuration\n  var path = bundle.kappLocation() + '/ports-and-protocols-entries';\n  if (id) {\n    path = bundle.spaceLocation() + '/submissions/' + id;\n  }\n  \n  //Display the modal\n  $('#pps-modal').modal();\n  \n  //Retrive and display the subform (in our case, in the modal)\n  K.load({\n    path:path,\n    container: '#pps-modal .modal-body',\n    loaded: function(form) {\n      if (!id) {\n        form.select('field[Parent Id]').value(K('submission').id);\n      } \n        \n    },\n    created: function(submission) {\n      oTable.row.add({\n        \"Application Name\":submission['submission']['values']['Application Name'],\n        \"Child Id\":submission['submission']['id']\n      }).draw(true);\n      $('#pps-modal .modal-body').empty().html(\"<i class='fa fa-cog fa-spin'></i>\");\n    },\n    updated: function(submission) {\n      if(submission['submission']['values'] != undefined) {\n        oTable.row(row).data({\n          \"Application Name\":submission['submission']['values']['Application Name'],\n          \"Child Id\":submission['submission']['id']\n        }).draw(true);\n      }\n    }\n  });\n}\n</script>",
          "visible": true,
          "renderAttributes": {

          }
        },
        {
          "type": "content",
          "renderType": "html",
          "name": "PPS Modal",
          "text": "<div class=\"modal fade\" id=\"pps-modal\" aria-labelledby=\"pps-modal-title\">\n  <div class=\"modal-dialog modal-lg\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\"><i class=\"fa fa-times\"></i></span></button>\n        <h4 class=\"modal-title\" id=\"event-modal-title\">Ports and Protocols</h4>\n      </div>\n      <div class=\"modal-body\">\n        <i class=\"fa fa-cog fa-spin\"></i>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button>\n      </div>\n    </div>\n  </div>\n</div>",
          "visible": true,
          "renderAttributes": {

          }
        },
        {
          "type": "section",
          "renderType": null,
          "name": "PPS Table Section",
          "title": "Configured Ports and Protocols",
          "visible": true,
          "omitWhenHidden": null,
          "renderAttributes": {

          },
          "elements": [
            {
              "type": "content",
              "renderType": "html",
              "name": "PPS Table",
              "text": "<table id=\"pps-table\" class=\"display table table-striped table-hover dt-responsive\" cellspacing=\"0\" width=\"100%\"></table>\n<button type=\"button\" class=\"btn-add-pps btn btn-primary\" xdata-toggle=\"modal\" xdata-target=\"#pps-modal\">Add PPS Entry</button>",
              "visible": true,
              "renderAttributes": {

              }
            }
          ]
        },
        {
          "type": "field",
          "name": "Id",
          "label": "Id",
          "key": "f61",
          "defaultValue": null,
          "defaultResourceName": null,
          "visible": false,
          "enabled": true,
          "required": false,
          "requiredMessage": null,
          "omitWhenHidden": false,
          "pattern": null,
          "constraints": [

          ],
          "events": [

          ],
          "renderAttributes": {

          },
          "dataType": "string",
          "renderType": "text",
          "rows": 1
        },
        {
          "type": "field",
          "name": "Kapp Slug",
          "label": "Kapp Slug",
          "key": "f63",
          "defaultValue": null,
          "defaultResourceName": null,
          "visible": false,
          "enabled": true,
          "required": false,
          "requiredMessage": null,
          "omitWhenHidden": true,
          "pattern": null,
          "constraints": [

          ],
          "events": [

          ],
          "renderAttributes": {

          },
          "dataType": "string",
          "renderType": "text",
          "rows": 1
        },
        {
          "type": "section",
          "name": "Buttons 2",
          "title": null,
          "visible": true,
          "renderAttributes": {
            "class": "box-footer",
            "style": "clear:both;"
          },
          "elements": [
            {
              "type": "button",
              "label": "Save",
              "name": "Save",
              "visible": true,
              "enabled": true,
              "renderType": "save",
              "renderAttributes": {

              }
            },
            {
              "type": "button",
              "label": "Submit",
              "name": "Submit",
              "visible": true,
              "enabled": true,
              "renderType": "submit-page",
              "renderAttributes": {
                "class": "btn btn-danger pull-right"
              }
            },
            {
              "type": "button",
              "label": "Go Back",
              "name": "Back",
              "visible": true,
              "enabled": true,
              "renderType": "previous-page",
              "renderAttributes": {
                "class": "btn btn-primary pull-right"
              }
            }
          ],
          "renderType": null,
          "omitWhenHidden": null
        }
      ],
      "events": [
        {
          "name": "Set Submission Id",
          "type": "Load",
          "action": "Custom",
          "code": "K('field[Id]').value(K('submission').id);\nK('field[Kapp Slug]').value(bundle.kappSlug());"
        }
      ],
      "name": "Table Page",
      "renderType": "submittable",
      "type": "page"
    }
  ],
  "securityPolicies": [

  ],
  "slug": "ports-protocols-services",
  "status": "New",
  "submissionLabelExpression": "${values('AIS Name')}",
  "type": "Service",
  "updatedAt": "2016-05-12T22:42:55.501Z",
  "updatedBy": "james.davies@kineticdata.com"
}